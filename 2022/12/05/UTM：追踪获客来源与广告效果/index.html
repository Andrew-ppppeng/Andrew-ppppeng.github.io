<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Andrew Peng,andrew.peng.9901@gmail.com"><title>UTM实践|获客来源与效果追踪 · Andrew's Blog</title><meta name="description" content="我明知道广告费有一半是浪费了，但是我从来不知道浪费的是哪一半

最近公司业务在做增长，到处投广告，需要统计各渠道的广告效果，这个数据追踪的工作分给我了。这篇文章分享一下学到的一些东西
这个事的基础思路，是解答以下三个问题：

注册的流量都是哪个渠道来的
不同渠道注册的用户，活跃度有什么区别？付费率有"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script>(function (f, b) { if (!b.__SV) { var e, g, i, h; window.mixpanel = b; b._i = []; b.init = function (e, f, c) { function g(a, d) { var b = d.split("."); 2 == b.length && ((a = a[b[0]]), (d = b[1])); a[d] = function () { a.push([d].concat(Array.prototype.slice.call(arguments, 0))); }; } var a = b; "undefined" !== typeof c ? (a = b[c] = []) : (c = "mixpanel"); a.people = a.people || []; a.toString = function (a) { var d = "mixpanel"; "mixpanel" !== c && (d += "." + c); a || (d += " (stub)"); return d; }; a.people.toString = function () { return a.toString(1) + ".people (stub)"; }; i = "disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once 
mixpanel.init('7427691a1b9302be1f793e9c0c85d2c0', {debug: true, track_pageview: true, persistence: 'localStorage'});</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/circle-logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Andrew's Blog</a></h3><div class="description"><p>知君仙骨无寒暑，千载相逢如旦暮</p></div></div></div><ul class="social-links"><li><a href="/atom.xml" title="RSS"><i class="fa fa-rss"></i></a></li><li><a href="mailto:andrew_peng@foxmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="http://github.com/Andrew-ppppeng"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a target="_blank" rel="noopener" href="https://www.caicai.me"> CaiCai </a><span>&</span><a target="_blank" rel="noopener" href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>UTM实践|获客来源与效果追踪</a></h3></div><div class="post-content"><blockquote>
<p>我明知道广告费有一半是浪费了，但是我从来不知道浪费的是哪一半</p>
</blockquote>
<p>最近公司业务在做增长，到处投广告，需要统计各渠道的广告效果，这个数据追踪的工作分给我了。这篇文章分享一下学到的一些东西</p>
<p>这个事的基础思路，是解答以下三个问题：</p>
<ol>
<li>注册的流量都是哪个渠道来的</li>
<li>不同渠道注册的用户，活跃度有什么区别？付费率有什么区别？</li>
<li>哪个渠道的推广ROI最高？</li>
</ol>
<h3 id="1-注册是从哪来的"><a href="#1-注册是从哪来的" class="headerlink" title="1. 注册是从哪来的"></a>1. 注册是从哪来的</h3><p>推广期间同时投了十几种不同的广告，都导向同一个产品，那如何区分不同广告的注册和转化率，以便找到最佳的渠道呢？</p>
<p>如果为每个不同的广告做不同的落地页，但这需要很大的开发量，并不划算。</p>
<p>但如果落地页用一样的，那页面上的埋点也是一样的，意味着你只能知道注册总量，并不知道注册用户是从哪来的。</p>
<p>所以需要一种方式，在用户注册的时候能获取到来源。 实现方式是为每个广告设置不同的参数，再把参数插到URL里，注册的时候前端会自动解析URL，得到用户来源。这就是UTM（<strong>Urchin Tracking Module</strong>）</p>
<p>UTM在我们日常网上冲浪随处可见，举个栗子：</p>
<p>百度搜索“京东”，前三条是这样的</p>
<p><img src="UTM%EF%BC%9A%E8%BF%BD%E8%B8%AA%E8%8E%B7%E5%AE%A2%E6%9D%A5%E6%BA%90%E4%B8%8E%E5%B9%BF%E5%91%8A%E6%95%88%E6%9E%9C%209650b7d3e281420f8626e8eb993e39e2/Untitled.png" alt="Untitled"></p>
<p>这三个结果对应的链接如下</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jd.com/?cu=true&utm_source=baidu-pinzhuan&utm_medium=cpc&utm_campaign=t_288551095_baidupinzhuan&utm_term=0f3d30c8dba7459bb52f2eb5eba8ac7d_0_f9ac6408271e4e0ca4d30a469d6e68df">https://www.jd.com/?cu=true&amp;utm_source=baidu-pinzhuan&amp;utm_medium=cpc&amp;utm_campaign=t_288551095_baidupinzhuan&amp;utm_term=0f3d30c8dba7459bb52f2eb5eba8ac7d_0_f9ac6408271e4e0ca4d30a469d6e68df</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jd.com/?cu=true&utm_source=baidu-search&utm_medium=cpc&utm_campaign=t_262767352_baidusearch&utm_term=304792062714_0_4ef94af3c5334a1a8abc83d66fd4fe6e">https://www.jd.com/?cu=true&amp;utm_source=baidu-search&amp;utm_medium=cpc&amp;utm_campaign=t_262767352_baidusearch&amp;utm_term=304792062714_0_4ef94af3c5334a1a8abc83d66fd4fe6e</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jd.com/?cu=true&utm_source=www.baidu.com&utm_medium=tuiguang&utm_campaign=t_1003608409_&utm_term=204344aaf823406aa34c05ceb505a16f">https://www.jd.com/?cu=true&amp;utm_source=www.baidu.com&amp;utm_medium=tuiguang&amp;utm_campaign=t_1003608409_&amp;utm_term=204344aaf823406aa34c05ceb505a16f</a></li>
</ul>
<p>三个链接都跳转到京东主站，二级域名都是jd.com, 但链接却不一样。</p>
<p>第一个链接，utm_source=baidu-pinzhuan, 表示是百度搜索广告的品牌专区。utm_medium=cpc, 表示这是一个cpc广告（Cost per Click，一种广告形式）。utm_campaign和utm_term都是一长串字符，应该是京东内部的一些区分字段。</p>
<p>第二个链接，utm_source=baidu-search, 表示普通的搜索广告。utm_medium=cpc，跟前面一样。</p>
<p>第三个链接，utm_source=baidu.com，表示自然搜索的流量。 utm_medium=tuiguang, 这里百度搜索页面没有标记为广告，不清楚为啥京东的人把medium标记为推广。</p>
<p>总之，这就是在共用一个落地页的情况下，如何识别不同渠道的用户。</p>
<h3 id="2-不同渠道的用户，活跃和付费的表现"><a href="#2-不同渠道的用户，活跃和付费的表现" class="headerlink" title="2. 不同渠道的用户，活跃和付费的表现"></a>2. 不同渠道的用户，活跃和付费的表现</h3><p>前面我们说了怎么区分不同渠道的注册，那后续的追踪该怎么做呢</p>
<p>方法很简单，用户注册的时候把UTM信息存一份到我们自己的数据库里。以后这个用户触发任何埋点行为，都带上他的UTM信息。</p>
<p>这样就能知道不同渠道的用户他们的活跃程度、付费意愿等信息。</p>
<p>再结合每个渠道的广告花费，ROI就也算出来了。</p>
<h3 id="3-内部跳转导致丢失UTM"><a href="#3-内部跳转导致丢失UTM" class="headerlink" title="3. 内部跳转导致丢失UTM"></a>3. 内部跳转导致丢失UTM</h3><p>我们的产品支持未登录访问，也就是说用户可能不在广告落地页注册，而是跳转到产品内部注册，这个时候URL变成了产品内部的链接，就丢掉了原先的UTM信息。 </p>
<p>解决这个问题，有两个方案</p>
<ol>
<li>把UTM信息存到浏览器缓存，注册的时候直接读缓存。 如果用户从新的UTM打开页面，再缓存里用新的值覆盖旧的</li>
<li>在每个跳转都带着之前的UTM参数</li>
</ol>
<h3 id="4-补充关于UTM的介绍"><a href="#4-补充关于UTM的介绍" class="headerlink" title="4. 补充关于UTM的介绍"></a>4. 补充关于UTM的介绍</h3><p>UTM的概念在2005年被【Urchin Software Corporation】这家公司提出，后来这家公司被Google收购，帮助建立了Google Analystics</p>
<p>标准的UTM有如下五个参数</p>
<p><img src="UTM%EF%BC%9A%E8%BF%BD%E8%B8%AA%E8%8E%B7%E5%AE%A2%E6%9D%A5%E6%BA%90%E4%B8%8E%E5%B9%BF%E5%91%8A%E6%95%88%E6%9E%9C%209650b7d3e281420f8626e8eb993e39e2/Untitled%201.png" alt="Untitled"></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-12-05</span><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://example.com/2022/12/05/UTM：追踪获客来源与广告效果/,Andrew's Blog,UTM实践|获客来源与效果追踪,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2023/01/07/%E5%87%BA%E9%80%8312%E6%9C%88/" title="出逃12月">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2022/09/26/%E9%9A%90%E5%B1%85%E8%AE%BE%E6%83%B3/" title="隐居设想">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>